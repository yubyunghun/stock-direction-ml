name: Daily Refresh (run NB14)\n\non:\n  schedule:\n    # 06:00 PT (13:00 UTC) daily\n    - cron: '0 13 * * *'\n  workflow_dispatch:\n\npermissions:\n  contents: write\n\njobs:\n  run-daily:\n    concurrency:\n      group: daily-refresh\n      cancel-in-progress: true\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Set up Python\n        uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n\n      - name: Install deps\n        run: |\n          python -m pip install --upgrade pip\n          python -m pip install jupyter nbconvert\n          python -m pip install -r notebooks/requirements.txt\n\n      - name: Execute NB14\n        run: |\n          jupyter nbconvert --to notebook --execute notebooks/14_deploy_pipeline.ipynb \\n            --output notebooks/14_deploy_pipeline_ran.ipynb \\n            --ExecutePreprocessor.timeout=1200 \\n            --ExecutePreprocessor.kernel_name=python3\n\n      - name: Commit & push if changed\n        run: |\n          git config user.name 'github-actions'\n          git config user.email 'actions@github.com'\n          git add -A\n          if git diff --cached --quiet; then\n            echo 'No changes to commit.'\n          else\n            git commit -m 'CI: daily refresh (NB14 executed)'\n            git push\n          fi\n